<!doctype html>
<html>
  <head>
    <title>EOS in a Box</title>
    <meta charset="utf-8">
    <!--meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="icon" href="favicon.ico" type="image/x-icon" />  
    <link rel="apple-touch-icon" href="icons/android-launchericon-192-192.png">   
    <meta name="theme-color" content="white"/>  
    <meta name="apple-mobile-web-app-capable" content="yes">  
    <meta name="apple-mobile-web-app-status-bar-style" content="black"> 
    <meta name="apple-mobile-web-app-title" content="EOS in a Box"> 
    <meta name="msapplication-TileImage" content="icons/android-launchericon-144-144.png">  
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" rel="stylesheet">
    <!-- JQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js"></script>
    <script src="client/src/client.js?12"></script>
    <script src="client/src/cbor.js" type="text/javascript"></script>
    <!-- https://github.com/EOSIO/eosjs/blob/master/docs/basic-usage/00_browser.md -->
    <script src='client/src/eosjs/dist-web/externals.min.js'></script>
    <script src='client/src/eosjs/dist-web/eosjs-api.min.js'></script>
    <script src='client/src/eosjs/dist-web/eosjs-jsonrpc.min.js'></script>
    <script src='client/src/eosjs/dist-web/eosjs-wasig.min.js'></script>
    <script src='client/src/eosjs/dist-web/eosjs-serialize.min.js'></script>
    <style>
      body { padding-top: 60px; /* for the nav which is "fixed-top" */}
      /* #eosinabox_prepareEsr,
      #eosinabox_shareCleos, */
      #eosinabox_share {
        display: none;
      }
      #eosinabox_pubkey, #eosinabox_esr {
        border: 1px solid lightgray;
        border-radius: 2px;
      }
      .eosinabox_page_sharedInfo .row .col {
        border: 1px solid #EEE;
      }
      .eosinabox_lowercase { text-transform: lowercase; }
      .eosinabox_uppercase { text-transform: uppercase; }
      #eosinabox_transfer_from {
        border: 1px solid lightgray;
        padding: 7px;
        border-radius: 3px;
      }
    </style>
  </head>
  <body>
    <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="#">EOS in a Box</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <!-- <li class="nav-item active"><a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a></li> -->
          <li class="nav-item"><a class="nav-link" href="#myAccount"        >My Account</a></li>
          <li class="nav-item"><a class="nav-link" href="#inviteAccount"    >Invite A Friend</a></li>
          <li class="nav-item"><a class="nav-link" href="#createAccount"    >Create Account</a></li>
          <li class="nav-item"><a class="nav-link" href="#restoreAccount"   >Restore Access</a></li>
          <li class="nav-item"><a class="nav-link" href="#help">Help</a></li>
          <li class="nav-item collapse navbar-collapse"><a class="nav-link" href="#sharedInfo">Shared Info</a></li>
        </ul>
      </div>
    </nav>
    <div class="container-fluid eosinabox_page eosinabox_page_myAccount">
      <div class="row">
        <div class="col">
          <h3>Alpha version!</h3>
          <h3>My Account page</h3>
          <p>
            Here you can see your available EOS balance.
            Refresh the value by tapping on it.
          </p>
          <div id="eosinabox_balance" class="container-fluid h1 text-success"></div>
          <div id="eosinabox_power1" class="container-fluid"></div>
          <div id="eosinabox_power2" class="container-fluid"></div>

          <div class="eosinabox_transfer_fromMyAccounts dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Select From Account
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="#">Action</a>
              <a class="dropdown-item" href="#">Another action</a>
              <a class="dropdown-item" href="#">Something else here</a>
            </div>
          </div>

          <div id="eosinabox_transfer_from" class="mb-4 eosinabox_lowercase"></div>
          <input  id="eosinabox_transfer_to"       type="text" class="form-control mb-4 eosinabox_lowercase" placeholder="to">
          <input  id="eosinabox_transfer_quantity" type="text" class="form-control mb-4 eosinabox_uppercase" placeholder="0.0000 EOS">
          <input  id="eosinabox_transfer_memo"     type="text" class="form-control mb-4" placeholder="memo">
          <button id="eosinabox_transfer_transact" class="btn btn-primary btn-sm" type="submit">Send Transaction</button>
        </div>
      </div>
    </div>
    <div class="container-fluid eosinabox_page eosinabox_page_createAccount">
      <div class="row">
        <div class="col">
          <h3 class="eosinabox_create_account_header">Create New Account</h3>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <p>
            To create a new account, you have to...
          </p>
          <ol>
            <li>Choose the chain, practice on Jungle3 or use the real EOS chain</li>
            <li>Pick a memorable account name, 12 characters, range: a-z or 1-5</li>
            <li>Who do you trust? Enter the custodian account name, 12 characters</li>
            <li>Create a new key using biometrics on your phone</li>
            <li>Send it to your trusted friend, they will create the account for you</li>
          </ol>
          <div class="dropdown eosinabox_dropdown_blockchain">
            <button class="btn btn-outline-primary dropdown-toggle .btn-block" type="button"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Choose A Chain: ...
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" data-chain="Jungle3" href="#">Jungle3 Test Net</a>
              <a class="dropdown-item" data-chain="EOS"     href="#">EOS</a>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <input id="eosinabox_accountName" type="text" class="form-control mb-4" placeholder="account name">
          <div id="eosinabox_countAccountLen"></div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <input id="eosinabox_custodianAccountName" type="text" class="form-control mb-4" placeholder="custodian account name">
          <div id="eosinabox_countCustodianAccountLen"></div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div id="eosinabox_pubkey" class="text-break"></div>
          <button id="eosinbox_createKeys" class="btn btn-primary btn-sm" type="submit">Create keys</button>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div id="eosinabox_esr" class="text-break"></div>
          <button id="eosinabox_share" class="btn btn-primary btn-sm" type="submit">Share My Account Creation Request</button>
        </div>
      </div>
    </div>

    <div class="container-fluid eosinabox_page eosinabox_page_inviteAccount">
      <div class="row">
        <div class="col">
          <h3 class="eosinabox_create_account_header">Invite A Friend</h3>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <p>
            To help a friend create a new account...<br>
            You don't have to do this, they can fill in all the info themselves, but it is nice if you can help them.<br>
          </p>
          <ol>
            <li>Choose the chain, practice on Jungle3 or use the real EOS chain</li>
            <li>Enter the custodian account name, 12 characters</li>
            <li>Send it to your friend, they will add their info and send back to you to complete the process</li>
          </ol>
          <div class="dropdown eosinabox_dropdown_blockchain">
            <button class="btn btn-outline-primary dropdown-toggle .btn-block" type="button"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Choose A Chain: ...
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" data-chain="Jungle3" href="#">Jungle3 Test Net</a>
              <a class="dropdown-item" data-chain="EOS"     href="#">EOS</a>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <input type="text" class="form-control mb-4 eosinabox_custodianAccountNameInvite eosinabox_lowercase" placeholder="custodian account name">
        </div>
      </div>
      <div class="row">
        <div class="col">
          <button class="eosinabox_share_inviteFriend btn btn-primary btn-sm" type="submit">Share My Invite A Friend Request</button>
        </div>
      </div>
    </div>

    <div class="container-fluid eosinabox_page eosinabox_page_restoreAccount">
      <div class="row">
        <div class="col">
          <h3>Alpha version!</h3>
          <h3>Restore access</h3>
          <p>
            To restore access to your account, you have to:
          </p>
          <ol>
            <li>Choose the chain, practice on Jungle3 or use the real EOS chain</li>
            <li>Enter your account name</li>
            <li>Create a new key using biometrics on your phone</li>
            <li>Send it to your trusted friend, they will fix the account for you</li>
          </ol>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="dropdown eosinabox_dropdown_blockchain">
            <button class="btn btn-outline-primary dropdown-toggle .btn-block" type="button"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Choose A Chain: ...
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" data-chain="Jungle3" href="#">Jungle3 Test Net</a>
              <a class="dropdown-item" data-chain="EOS"     href="#">EOS</a>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <input type="text" class="eosinabox_accountNameClass form-control mb-4 eosinabox_lowercase" placeholder="account name">
          <div class="eosinabox_countAccountLenClass"></div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="text-break eosinabox_pubkeyClass"></div>
          <button class="btn btn-primary btn-sm eosinbox_createKeysClass" type="submit">Create keys</button>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="text-break eosinabox_esrClass"></div>
          <button class="btn btn-primary btn-sm eosinabox_shareRestore" type="submit">Share My Account Restore Request</button>
        </div>
      </div>
    </div>

    <div class="container-fluid eosinabox_page eosinabox_page_restoreAccountTransaction">
      <div class="row">
        <div class="col">
          <h3>Alpha version!</h3>
          <h3>Change Account Keys!</h3>
          <p>
            To restore access to your friend's account, you have to:
          </p>
          <ol>
            <li>Enter the custodian account name (yours)</li>
            <li>Send this transaction which will change the active key for your friend</li>
          </ol>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="dropdown eosinabox_dropdown_blockchain">
            <button class="btn btn-outline-primary dropdown-toggle .btn-block" type="button"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Choose A Chain: ...
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" data-chain="Jungle3" href="#">Jungle3 Test Net</a>
              <a class="dropdown-item" data-chain="EOS"     href="#">EOS</a>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="eosinabox_accountNameClassRestoreAccountTransaction"></div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="text-break eosinabox_pubkeyClassRestoreAccountTransaction"></div>
        </div>
      </div>
      <!-- <div class="row">
        <div class="col">
          <input type="text" class="form-control mb-4 eosinabox_custodianAccountNameRestoreAccountTransaction eosinabox_lowercase" placeholder="custodian account name">
        </div>
      </div> -->
      <div class="row">
        <div class="col">
          <!-- <div class="text-break eosinabox_RestoreAccountTransaction"></div> -->
          <button class="btn btn-primary btn-sm eosinabox_buttonRestoreAccountTransaction" type="submit">Replace keys for friend</button>
        </div>
      </div>
    </div>

    <div class="container-fluid eosinabox_page eosinabox_page_help">
      <div class="row">
        <div class="col">
          <h1>Help</h1>
          <h2 class="eosinabox_help_header">TEST ONLY! This is Alpha phase, don't risk too many real tokens here please!</h2>
          <div class="eosinabox_help">
            <p>Test only for the Alpha phase</p>
            <h3>Get yourself an account!</h3>
            <ol>
              <li>In the future you'll choose the blockchain (EOS/Jungle3)</li>
              <li>Test if an account name is available on the jungle3 test net (legal 12 character names only)</li>
              <li>Create a key pair using biometrics for it, the magic happens here!</li>
              <li>Who do you want to trust to be the admin for your account? The Owner permission in EOS slang.
                In the future this will be more complicated, you'll be able to choose a threshold and some
                accounts, keys and time delays</li>
              <li>Send the account name and the public key to a friend who will create the account for you,
                using ESR tech by Greymass, to be used in Anchor wallet</li>
            </ol>
            <h3>Want to help a friend create an account?</h3>
            <ol>
              <li>Choose a blockchain (currently only jungle3)</li>
              <li>Explain to them about regular account name format - 12 characters of the range: a-z or 1-5</li>
              <li>Who will be the Owner permission for their account? Explain to them they need to trust you if they
                choose you to be the Owner, this will be used if their phone is lost or broken</li>
              <li>Send them this link (future) which will get them to this app and will pre-populate the fields for them</li>
              <li>They will only need to create a key pair using biometrics and send back to you, you will use Greymass
                Anchor wallet to create the account for them</li>
              <li>You will pay for their RAM</li>
            </ol>
            <h3>Got a new phone, change my keys to use from here on</h3>
            <ol>
              <li>Use this if you lost your old phone and need to get access to your account from this new phone instead</li>
              <li>Create a new key pair</li>
              <li>Enter your account name</li>
              <li>I will create a signing-request for you to send to the custodian</li>
            </ol>
            <h3>Delete my account from this phone</h3>
            <ol>
              <li>Warning, this is irreverible. Are you sure?</li>
              <li>Use this if you're giving the phone to someone else</li>
              <li>Check the owner of the account to verify the account will be accessible using that permission</li>
              <li>Are you sure? - - > ok, I'm deleting the public key info</li>
            </ol>
            <h3>Send EOS to another wallet</h3>
            <ol>
              <li>Who to send to?</li>
              <li>How much?</li>
              <li>Add optional memo</li>
              <li>Send! you'll have to use biometrics to approve, perhaps with a slider before this step like in Anchor wallet</li>
            </ol>
            <h3>Approve any transaction request</h3>
            <ol>
              <li>Using ESR, EOSIO Signature Request</li>
              <li>Review details</li>
              <li>Approve or deny sliding widget</li>
              <li>Biometrics for final approval</li>
            </ol>
            <h3>View balances in any contract/token</h3>
            <ol>
              <li>Want to see additional balances in contracts/tokens?</li>
              <li>Choose from a pre-made list</li>
              <li>Or let me know the account and the token (has to be an eosio.token compatible contract)</li>
            </ol>
            <h3>Additional future features</h3>
            <ol>
              <li>Manage multiple accounts on mltiple chains</li>
              <li>View simplified gauge of powerup</li>
              <li>Manage account list</li>
              <li>Want something else that's missing? Join the chat on Telegram, see below</li>
            </ol>
            <h3>View Account on block explorer</h3>
            <button class="eosinabox_viewOnExplorer btn btn-primary btn-sm" type="submit">View account on block explorer</button>
            <h3>Free Powerup</h3>
            <a href="https://monitor.jungletestnet.io/#powerup" class="btn btn-primary btn-sm active" role="button" aria-pressed="true">Jungle3 powerup</a>
            <a href="https://eospowerup.io/free"                class="btn btn-primary btn-sm active" role="button" aria-pressed="true">EOS powerup</a>
            <h3>Backup EOS in a Box data</h3>
            <p>
              EOS in a Box does not manage you r data for you. All your data is on your phone's local storage.
              If you want, you can export all data as a json object and save it in any place you like, perhaps send it to yourself in an email.
              In the future this might change. In any case, your private keys are never exposed, they can't since you're using your
              phone's hardware security module to generate and manage keys for you. This backup only has the public keys.
              This is also why you need to use the custodian account to replace keys if you switch phones.
            </p>
            <button id="eosinabox_share_backup_debug" class="btn btn-primary btn-sm" type="submit">Backup My Account Info</button>
            <h3>Telegram group, chat, complain...</h3>
            <a href="https://t.me/EOSinaBox" class="btn btn-primary btn-sm active" role="button" aria-pressed="true">EOS in a Box on Telegram</a>
          </div>
        </div>
      </div>
    </div>
    <div class="container eosinabox_page eosinabox_page_sharedInfo">
      <div class="row">
        <div class="col">
          <h3>Shared Info</h3>
          <p>
            This info was shared using a link:
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col">Action:</div>
        <div class="col eosinabox_sharedinfo_action"></div>
      </div>
      <div class="row">
        <div class="col">Chain:</div>
        <div class="col eosinabox_sharedinfo_chain"></div>
      </div>
      <div class="row">
        <div class="col">Account Name:</div>
        <div class="col eosinabox_sharedinfo_accountName"></div>
      </div>
      <div class="row">
        <div class="col">Custodian:</div>
        <div class="col eosinabox_sharedinfo_custodianAccountName"></div>
      </div>
      <div class="row">
        <div class="col">Public Key:</div>
        <div class="col eosinabox_sharedinfo_pubkey text-break"></div>
      </div>
      <div class="row">
        <div class="col">Reference:</div>
      </div>
      <div class="row">
        <div class="col eosinabox_sharedinfo_cleos text-break"></div>
      </div>
      <div class="row">
        <div class="col">
          <button id="eosinbox_approveThisTransaction" class="btn-primary">Approve this transaction</button>
        </div>
        <div class="col">
          <button id="eosinbox_declineTransaction" class="btn-block btn-danger">Cancel</button>
        </div>
      </div>
    </div>
  </body>
</html>
